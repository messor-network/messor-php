(function(){"use strict";var e={7524:function(e,t,a){var n=a(9963),o=a(6086),s=a(6252),l=a(655),r=a(3577),c=a(2262),u=a(1905),i=a(7061),_=a(8187),p=a(1947),d=a(8764),m=a(6137),g=a(9848),b={class:"ms-form-control__field"},f={for:"request-data--path"},U={key:0,class:"ms-form-control__label"},k=["id"],h=(0,s.aZ)({__name:"TextInputComponent",props:{title:{type:String},modelValue:{type:String,required:!0},id:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,t){var a=t.emit,o=e,l=(0,s.Fl)({get:function(){return o.modelValue},set:function(e){return a("update:modelValue",e)}});return function(t,a){return(0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("label",f,[e.title?((0,s.wg)(),(0,s.iD)("span",U,(0,r.zw)(e.title),1)):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{id:e.id,"onUpdate:modelValue":a[0]||(a[0]=function(e){return(0,c.dq)(l)?l.value=e:null}),class:"ms-form-control ms-form-control-md",type:"text"},null,8,k),[[n.nr,(0,c.SU)(l)]])])])}}});const v=h;var S=v,w=a(9009),D=a(4950),q=a(2718),V=a(8127);function y(e,t,a){return(0,l.mG)(this,void 0,Promise,(function(){var n,o,s,r,c,u,i,_;return(0,l.Jh)(this,(function(p){switch(p.label){case 0:return n={method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"},[4,fetch("".concat((0,V.VN)(),"&route=").concat(e),n)];case 1:return o=p.sent(),s=o.headers.get("content-length")||"0",r=parseInt(s,10),c=0,u="",i=new Response(new ReadableStream({start:function(e){var t;return(0,l.mG)(this,void 0,void 0,(function(){var n,s,i,_,p;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:if(n=null===(t=o.body)||void 0===t?void 0:t.getReader(),!n)return[2];if(s=o.headers.get("Content-Disposition"),!s)return[2];u=s.substring(s.indexOf("filename=")+9),l.label=1;case 1:return[4,n.read()];case 2:if(i=l.sent(),_=i.done,p=i.value,_||!p)return a({loaded:0,total:0}),[3,4];c+=p.byteLength,a({loaded:c,total:r}),e.enqueue(p),l.label=3;case 3:return[3,1];case 4:return e.close(),[2]}}))}))}})),_={},[4,i.blob()];case 2:return[2,(_.data=p.sent(),_.fileName=u,_)]}}))}))}var x=function(e,t){var a=document.createElement("a");document.body.appendChild(a),a.style.display="none";var n=window.URL.createObjectURL(e);a.href=n,a.download=t,a.click(),window.URL.revokeObjectURL(n)},I="".concat("extension/module/messor/","FDBBApi"),R=(0,o.Q_)("file-database-backup",{state:function(){return{loading:!1,initialData:{filename:"",avaliable_arch:{},tables:[],type_backup:[],exclude:[],email:"",path:"",action:"",setting:{smtp_password:"",smtp_login:"",smtp_port:"",smtp_url:""}},requestData:{path:"",action:"download",type_arch:".zip",type_backup:"backup_db",filename:"",tables:[],email_user:"",smtp_password:"",smtp_url:"",smtp_login:"",smtp_port:""},cronRequestData:{cron_config:{cron_path:"",cron_type_arch:".zip",cron_type_backup:"backup_file_db",cron_email_user:"",cron_smtp_url:"",cron_smtp_port:"",cron_smtp_login:"",cron_smtp_password:"",cron_action:"save"},cron_exclude:"",cron_database:{cron_host:"",cron_user:"",cron_password:"",cron_dbname:""},cron_tables:[]},excludedFiles:"",totalFileSize:0,downloadedSize:0,cron_text_path:""}},getters:{route:function(){return I}},actions:{fetchInitialState:function(e){var t;return void 0===e&&(e=!0),(0,l.mG)(this,void 0,Promise,(function(){var a,n,o,s,r,c,u,i;return(0,l.Jh)(this,(function(_){switch(_.label){case 0:return this.loading=e,[4,(0,V.Nv)(I,"main")];case 1:return a=_.sent(),n=a.data,o=a.status,[4,(0,V.Nv)(I,"cron_data")];case 2:return s=_.sent().data,"ok"!==o.toLocaleLowerCase()?(this.loading=!1,[2]):(this.initialData=(0,l.pi)({},n||this.initialData),r=n.filename,c=n.exclude,u=n.email,i=n.path,this.requestData=(0,l.pi)((0,l.pi)({},this.requestData),{path:i,filename:r,email_user:u,smtp_login:n.setting.smtp_login,smtp_password:n.setting.smtp_password,smtp_port:n.setting.smtp_port,smtp_url:n.setting.smtp_url}),this.cronRequestData=(0,l.pi)((0,l.pi)({},s),{cron_exclude:(null===(t=s.cron_exclude)||void 0===t?void 0:t.join("\n"))||""}),this.excludedFiles=(null===c||void 0===c?void 0:c.join("\n"))||"",this.loading=!1,[2])}}))}))},saveCronSettings:function(){return(0,l.mG)(this,void 0,Promise,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return this.loading=!0,[4,(0,V.Nv)(I,"cron_data_save",(0,l.pi)((0,l.pi)({},this.cronRequestData),{cron_exclude:this.cronRequestData.cron_exclude.split("\n")}))];case 1:return e=t.sent().data,this.cron_text_path=null===e||void 0===e?void 0:e.cron_text_path,this.loading=!1,[2]}}))}))},excludeFiles:function(){return(0,l.mG)(this,void 0,Promise,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return this.loading=!0,[4,(0,V.Nv)(I,"exclude",{exclude:this.excludedFiles.split("\n")})];case 1:return e.sent(),this.loading=!1,[2]}}))}))},storeBackup:function(){return(0,l.mG)(this,void 0,Promise,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return this.loading=!0,[4,(0,V.Nv)(I,"save",this.requestData)];case 1:return e.sent(),this.loading=!1,[2]}}))}))},sendBackup:function(){return(0,l.mG)(this,void 0,Promise,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return this.loading=!0,[4,(0,V.Nv)(I,"email",this.requestData)];case 1:return e.sent(),this.loading=!1,[2]}}))}))},downloadBackup:function(){return(0,l.mG)(this,void 0,Promise,(function(){var e,t,a,n=this;return(0,l.Jh)(this,(function(o){switch(o.label){case 0:return this.downloadedSize=0,this.totalFileSize=0,this.loading=!0,[4,y(I,this.requestData,(function(e){var t=e.loaded,a=e.total;n.downloadedSize=t,n.totalFileSize=a}))];case 1:return e=o.sent(),t=e.data,a=e.fileName,t&&x(t,a),this.loading=!1,[2]}}))}))}}}),z=function(e){return(0,s.dD)("data-v-6e07b63a"),e=e(),(0,s.Cn)(),e},W={key:0},Z={class:"settings-tabs-container"},F=(0,s.Uk)(" Backup "),C=(0,s.Uk)(" Cron "),j={key:0,class:"cron-instruction"},O={class:"cron-instruction__text"},P=z((function(){return(0,s._)("img",{width:"20",height:"20",class:"cron-instruction__copy-button-icon",src:u,alt:""},null,-1)})),B=[P],E={class:"ms-settings-page__group"},J={class:"ms-settings-page__group-title"},L={class:"ms-settings-page__group-col"},G={class:"ms-settings-page__group-col"},H={for:"request-data--type_arch"},N={class:"ms-form-control__label"},Y={class:"select_wrapper"},T=["value"],K={key:0,class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},M={key:0,class:"ms-settings-page__group"},A={class:"ms-settings-page__group-title"},X={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},Q={class:"ms-page-box__item"},$={class:"ms-page-box__title"},ee={class:"ms-page-box__title-icon"},te=["src"],ae={class:"ms-page-box__title-txt"},ne={class:"ms-page-box__content ms-page-box__content-padding"},oe={class:"ms-form"},se={class:"head-col"},le=["for"],re=["id","value"],ce=z((function(){return(0,s._)("span",{class:"ms-checkbox__icon"},null,-1)})),ue={class:"ms-checkbox__txt"},ie={class:"ms-page-box__controls ms-page-box__controls-centered"},_e=z((function(){return(0,s._)("span",{class:"ms-link-primary"},"/",-1)})),pe={class:"ms-settings-page__group"},de={class:"ms-settings-page__group-title"},me={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},ge={class:(0,r.C_)(["ms-settings-page__group-col","ms-settings-page__group-col-has-hidden","ms-settings-page__group-col-fluid"])},be={class:"ms-settings-page__group-col-hidden"},fe={class:"ms-settings-page__group-box"},Ue={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},ke={class:"ms-settings-page__group"},he={class:"ms-settings-page__group-title"},ve={class:"ms-settings-page__group-col"},Se={for:"request-data--type_arch"},we={class:"ms-form-control__label"},De={class:"select_wrapper"},qe=["value"],Ve={key:0,class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},ye={key:0,class:"ms-settings-page__group"},xe={class:"ms-settings-page__group-title"},Ie={class:"ms-settings-page__group-box",style:{border:"none"}},Re={class:"ms-page-box__title-txt"},ze=z((function(){return(0,s._)("span",null,null,-1)})),We={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},Ze={class:"ms-page-box__item"},Fe={class:"ms-page-box__title"},Ce={class:"ms-page-box__title-icon"},je=["src"],Oe={class:"ms-page-box__title-txt"},Pe={class:"ms-page-box__content ms-page-box__content-padding"},Be={class:"ms-form"},Ee={class:"head-col"},Je=["for"],Le=["id","value"],Ge=z((function(){return(0,s._)("span",{class:"ms-checkbox__icon"},null,-1)})),He={class:"ms-checkbox__txt"},Ne={class:"ms-page-box__controls ms-page-box__controls-centered"},Ye=z((function(){return(0,s._)("span",{class:"ms-link-primary"},"/",-1)})),Te={class:"ms-settings-page__group"},Ke={class:"ms-settings-page__group-title"},Me={class:(0,r.C_)(["ms-settings-page__group-col","ms-settings-page__group-col-has-hidden","ms-settings-page__group-col-fluid"])},Ae={class:"ms-settings-page__group-col-hidden"},Xe={class:"ms-settings-page__group-box"},Qe={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},$e=(0,s.aZ)({__name:"FileDatabaseBackup",setup:function(e){var t=this,o=(0,q.s)(),u=R(),b=(0,c.iH)("scan"),f=(0,s.Fl)((function(){return"".concat(u.cron_text_path,"\n\n").concat((0,i.I)("cron_instruction_tooltip"))})),U=function(){return(0,l.mG)(t,void 0,Promise,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return[4,u.fetchInitialState()];case 1:return e.sent(),[4,o.checkLicense(u.route)];case 2:return e.sent(),[2]}}))}))},k=function(){u.requestData.tables=(0,l.ev)([],u.initialData.tables,!0),u.cronRequestData.cron_tables=(0,l.ev)([],u.initialData.tables,!0)},h=function(){u.requestData.tables=[],u.cronRequestData.cron_tables=[]},v=function(){return(0,l.mG)(t,void 0,Promise,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return[4,u.excludeFiles()];case 1:switch(t.sent(),e=u.requestData.action,e){case"download":return[3,2];case"save":return[3,4];case"email":return[3,6]}return[3,8];case 2:return[4,u.downloadBackup()];case 3:return t.sent(),[3,9];case 4:return[4,u.storeBackup()];case 5:return t.sent(),[3,9];case 6:return[4,u.sendBackup()];case 7:return t.sent(),[3,9];case 8:return[3,9];case 9:return[2]}}))}))},V=function(e){window.navigator.clipboard.writeText(e)},y=function(){return(0,l.mG)(t,void 0,Promise,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return[4,u.saveCronSettings()];case 1:return e.sent(),[2]}}))}))};return(0,s.bv)((function(){return(0,l.mG)(t,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return(0,i.g)(),[4,U()];case 1:return e.sent(),[2]}}))}))})),function(e,t){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,c.SU)(o).licenseAccepted?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(_.Z,{key:0,"api-route":(0,c.SU)(u).route},null,8,["api-route"])),(0,c.SU)(u).loading?((0,s.wg)(),(0,s.j4)(d.Z,{key:1},{default:(0,s.w5)((function(){return[(0,c.SU)(u).downloadedSize&&(0,c.SU)(u).totalFileSize?((0,s.wg)(),(0,s.iD)("span",W,(0,r.zw)((100*(0,c.SU)(u).downloadedSize/((0,c.SU)(u).totalFileSize||1)).toFixed(1))+"% ",1)):(0,s.kq)("",!0)]})),_:1})):(0,s.kq)("",!0),(0,s.Wm)(m.Z,{"image-url":a(1974),"sub-title":(0,c.SU)(i.I)("backup_descript"),title:"Backup"},{tabs:(0,s.w5)((function(){return[(0,s._)("div",Z,[(0,s.Wm)(g.Z,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.value=e}),id:"tab-scan",value:"scan",name:"tab"},{default:(0,s.w5)((function(){return[F]})),_:1},8,["modelValue"]),(0,s.Wm)(g.Z,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.value=e}),id:"tab-cron",value:"cron",name:"tab"},{default:(0,s.w5)((function(){return[C]})),_:1},8,["modelValue"])])]})),"default-settings":(0,s.w5)((function(){return["scan"===b.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(S,{id:"backup_path",modelValue:(0,c.SU)(u).requestData.path,"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,c.SU)(u).requestData.path=e}),title:(0,c.SU)(i.I)("backup_path")},null,8,["modelValue","title"]),(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).requestData.type_backup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,c.SU)(u).requestData.type_backup=e}),id:"scan-type_backup_file",name:"type_backup",value:"backup_file"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_file")),1)]})),_:1},8,["modelValue"]),(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).requestData.type_backup,"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,c.SU)(u).requestData.type_backup=e}),id:"scan-type_backup_db",name:"type_backup",value:"backup_db"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_database")),1)]})),_:1},8,["modelValue"]),(0,s._)("button",{class:"ms-btn-start ms-btn ms-btn-primary",type:"submit",onClick:v},(0,r.zw)((0,c.SU)(i.I)("backup_button_database")),1)],64)):(0,s.kq)("",!0),"cron"===b.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,c.SU)(u).cron_text_path?((0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",O,(0,r.zw)((0,c.SU)(u).cron_text_path),1),(0,s._)("button",{onClick:t[5]||(t[5]=function(e){return V((0,c.SU)(u).cron_text_path)})},B),(0,s.Wm)(p.Z,{"tooltip-text":(0,c.SU)(f)},null,8,["tooltip-text"])])):(0,s.kq)("",!0),(0,s.Wm)(S,{id:"cron_backup_path",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_path,"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_path=e}),title:(0,c.SU)(i.I)("backup_path")},null,8,["modelValue","title"]),(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup,"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup=e}),id:"cron-type_backup_file",name:"cron_type_backup",value:"backup_file"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_file")),1)]})),_:1},8,["modelValue"]),(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup,"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup=e}),id:"cron-type_backup_db",name:"cron_type_backup",value:"backup_db"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_database")),1)]})),_:1},8,["modelValue"]),(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup,"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_type_backup=e}),id:"cron-type_backup_file_db",name:"cron_type_backup",value:"backup_file_db"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_file_database")),1)]})),_:1},8,["modelValue"]),(0,s._)("button",{class:"ms-btn-start ms-btn ms-btn-primary",type:"submit",onClick:y},(0,r.zw)((0,c.SU)(i.I)("button_save")),1)],64)):(0,s.kq)("",!0)]})),"professional-settings":(0,s.w5)((function(){return["scan"===b.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",E,[(0,s._)("span",J,(0,r.zw)((0,c.SU)(i.I)("backup_archiving_setting")),1),(0,s._)("div",L,[(0,s.Wm)(S,{id:"backup_file_name",modelValue:(0,c.SU)(u).requestData.filename,"onUpdate:modelValue":t[10]||(t[10]=function(e){return(0,c.SU)(u).requestData.filename=e}),title:(0,c.SU)(i.I)("backup_file_name")},null,8,["modelValue","title"])]),(0,s._)("div",G,[(0,s._)("label",H,[(0,s._)("span",N,(0,r.zw)((0,c.SU)(i.I)("backup_pack")),1),(0,s._)("span",Y,[(0,s.wy)((0,s._)("select",{id:"request-data--type_arch","onUpdate:modelValue":t[11]||(t[11]=function(e){return(0,c.SU)(u).requestData.type_arch=e}),class:"ms-form-control ms-form-control-md",name:"type_arch"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.entries((0,c.SU)(u).initialData.avaliable_arch),(function(e){var t=e[0],a=e[1];return(0,s.wg)(),(0,s.iD)("option",{key:t,value:a},(0,r.zw)(t),9,T)})),128))],512),[[n.bM,(0,c.SU)(u).requestData.type_arch]])])])]),"backup_file"===(0,c.SU)(u).requestData.type_backup?((0,s.wg)(),(0,s.iD)("div",K,[(0,s.Wm)(w.Z,{modelValue:(0,c.SU)(u).excludedFiles,"onUpdate:modelValue":t[12]||(t[12]=function(e){return(0,c.SU)(u).excludedFiles=e}),name:"EXCLUDE_FILES",type:"textarea","field-id":"excludedFiles",title:"".concat((0,c.SU)(i.I)("backup_exclude_directory"),":"),"tooltip-text":(0,c.SU)(i.I)("backup_exclude_directory")},null,8,["modelValue","title","tooltip-text"])])):(0,s.kq)("",!0)]),"backup_db"===(0,c.SU)(u).requestData.type_backup?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("span",A,(0,r.zw)((0,c.SU)(i.I)("backup_settings")),1),(0,s._)("div",X,[(0,s._)("div",Q,[(0,s._)("div",$,[(0,s._)("span",ee,[(0,s._)("img",{src:a(1713),alt:""},null,8,te)]),(0,s._)("span",ae,(0,r.zw)((0,c.SU)(i.I)("backup_select_table")),1),(0,s.Wm)(p.Z,{"tooltip-text":(0,c.SU)(i.I)("backup_i_select_table")},null,8,["tooltip-text"])]),(0,s._)("div",ne,[(0,s._)("div",oe,[(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(u).initialData.tables,(function(e){return(0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",se,[(0,s._)("label",{for:"".concat(e,"-table-name-checkbox"),class:"ms-checkbox"},[(0,s.wy)((0,s._)("input",{id:"".concat(e,"-table-name-checkbox"),"onUpdate:modelValue":t[13]||(t[13]=function(e){return(0,c.SU)(u).requestData.tables=e}),value:e,name:"tables[]",type:"checkbox"},null,8,re),[[n.e8,(0,c.SU)(u).requestData.tables]]),ce],8,le)]),(0,s._)("td",null,[(0,s._)("span",ue,(0,r.zw)(e),1)])])})),128))])])]),(0,s._)("div",ie,[(0,s._)("button",{id:"allenable",class:"ms-link-primary",onClick:k},(0,r.zw)((0,c.SU)(i.I)("backup_select_all")),1),_e,(0,s._)("button",{id:"alldisable",class:"ms-link-primary",onClick:h},(0,r.zw)((0,c.SU)(i.I)("backup_remove_select")),1)])])])])):(0,s.kq)("",!0),(0,s._)("div",pe,[(0,s._)("span",de,(0,r.zw)((0,c.SU)(i.I)("backup_action")),1),(0,s._)("div",me,[(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).requestData.action,"onUpdate:modelValue":t[14]||(t[14]=function(e){return(0,c.SU)(u).requestData.action=e}),id:"scan-action_download",name:"action",value:"download"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_download")),1)]})),_:1},8,["modelValue"])]),(0,s._)("div",ge,[(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).requestData.action,"onUpdate:modelValue":t[15]||(t[15]=function(e){return(0,c.SU)(u).requestData.action=e}),id:"scan-action_email",name:"action",value:"email"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_send_of_email")),1)]})),_:1},8,["modelValue"]),(0,s._)("div",be,[(0,s.Wm)(S,{id:"backup_Email",modelValue:(0,c.SU)(u).requestData.email_user,"onUpdate:modelValue":t[16]||(t[16]=function(e){return(0,c.SU)(u).requestData.email_user=e}),title:"Email"},null,8,["modelValue"]),(0,s._)("div",fe,[(0,s.Wm)(S,{id:"smtp_host",modelValue:(0,c.SU)(u).requestData.smtp_url,"onUpdate:modelValue":t[17]||(t[17]=function(e){return(0,c.SU)(u).requestData.smtp_url=e}),title:"SMTP Host"},null,8,["modelValue"]),(0,s.Wm)(S,{id:"smtp_port",modelValue:(0,c.SU)(u).requestData.smtp_port,"onUpdate:modelValue":t[18]||(t[18]=function(e){return(0,c.SU)(u).requestData.smtp_port=e}),title:"Port"},null,8,["modelValue"]),(0,s.Wm)(S,{id:"smtp_login",modelValue:(0,c.SU)(u).requestData.smtp_login,"onUpdate:modelValue":t[19]||(t[19]=function(e){return(0,c.SU)(u).requestData.smtp_login=e}),title:"Login"},null,8,["modelValue"]),(0,s.Wm)(S,{id:"smtp_password",modelValue:(0,c.SU)(u).requestData.smtp_password,"onUpdate:modelValue":t[20]||(t[20]=function(e){return(0,c.SU)(u).requestData.smtp_password=e}),title:"Password"},null,8,["modelValue"])])])]),(0,s._)("div",Ue,[(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).requestData.action,"onUpdate:modelValue":t[21]||(t[21]=function(e){return(0,c.SU)(u).requestData.action=e}),id:"scan-action_save",name:"action",value:"save"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_save_on_server")),1)]})),_:1},8,["modelValue"])])])],64)):(0,s.kq)("",!0),"cron"===b.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",ke,[(0,s._)("span",he,(0,r.zw)((0,c.SU)(i.I)("backup_archiving_setting")),1),(0,s._)("div",ve,[(0,s._)("label",Se,[(0,s._)("span",we,(0,r.zw)((0,c.SU)(i.I)("backup_pack")),1),(0,s._)("span",De,[(0,s.wy)((0,s._)("select",{id:"request-data--type_arch","onUpdate:modelValue":t[22]||(t[22]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_type_arch=e}),class:"ms-form-control ms-form-control-md",name:"type_arch"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.entries((0,c.SU)(u).initialData.avaliable_arch),(function(e){var t=e[0],a=e[1];return(0,s.wg)(),(0,s.iD)("option",{key:t,value:a},(0,r.zw)(t),9,qe)})),128))],512),[[n.bM,(0,c.SU)(u).cronRequestData.cron_config.cron_type_arch]])])])]),["backup_file","backup_file_db"].includes((0,c.SU)(u).cronRequestData.cron_config.cron_type_backup)?((0,s.wg)(),(0,s.iD)("div",Ve,[(0,s.Wm)(w.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_exclude,"onUpdate:modelValue":t[23]||(t[23]=function(e){return(0,c.SU)(u).cronRequestData.cron_exclude=e}),name:"EXCLUDE_FILES",type:"textarea","field-id":"excludedFiles",title:"".concat((0,c.SU)(i.I)("backup_exclude_directory"),":"),"tooltip-text":(0,c.SU)(i.I)("backup_exclude_directory")},null,8,["modelValue","title","tooltip-text"])])):(0,s.kq)("",!0)]),["backup_db","backup_file_db"].includes((0,c.SU)(u).cronRequestData.cron_config.cron_type_backup)?((0,s.wg)(),(0,s.iD)("div",ye,[(0,s._)("span",xe,(0,r.zw)((0,c.SU)(i.I)("backup_settings")),1),(0,s._)("div",Ie,[(0,s._)("span",Re,(0,r.zw)((0,c.SU)(i.I)("backup_settings_db_setting")),1),ze,(0,s.Wm)(S,{id:"cron_db_name",modelValue:(0,c.SU)(u).cronRequestData.cron_database.cron_dbname,"onUpdate:modelValue":t[24]||(t[24]=function(e){return(0,c.SU)(u).cronRequestData.cron_database.cron_dbname=e}),title:(0,c.SU)(i.I)("backup_settings_name")},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_db_host",modelValue:(0,c.SU)(u).cronRequestData.cron_database.cron_host,"onUpdate:modelValue":t[25]||(t[25]=function(e){return(0,c.SU)(u).cronRequestData.cron_database.cron_host=e}),title:(0,c.SU)(i.I)("backup_settings_host")},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_db_user",modelValue:(0,c.SU)(u).cronRequestData.cron_database.cron_user,"onUpdate:modelValue":t[26]||(t[26]=function(e){return(0,c.SU)(u).cronRequestData.cron_database.cron_user=e}),title:(0,c.SU)(i.I)("backup_settings_user")},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_db_password",modelValue:(0,c.SU)(u).cronRequestData.cron_database.cron_password,"onUpdate:modelValue":t[27]||(t[27]=function(e){return(0,c.SU)(u).cronRequestData.cron_database.cron_password=e}),title:(0,c.SU)(i.I)("backup_settings_password")},null,8,["modelValue","title"])]),(0,s._)("div",We,[(0,s._)("div",Ze,[(0,s._)("div",Fe,[(0,s._)("span",Ce,[(0,s._)("img",{src:a(1713),alt:""},null,8,je)]),(0,s._)("span",Oe,(0,r.zw)((0,c.SU)(i.I)("backup_select_table")),1),(0,s.Wm)(p.Z,{"tooltip-text":(0,c.SU)(i.I)("backup_i_select_table")},null,8,["tooltip-text"])]),(0,s._)("div",Pe,[(0,s._)("div",Be,[(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(u).initialData.tables,(function(e){return(0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",Ee,[(0,s._)("label",{for:"".concat(e,"-table-name-checkbox"),class:"ms-checkbox"},[(0,s.wy)((0,s._)("input",{id:"".concat(e,"-table-name-checkbox"),"onUpdate:modelValue":t[28]||(t[28]=function(e){return(0,c.SU)(u).cronRequestData.cron_tables=e}),value:e,name:"tables[]",type:"checkbox"},null,8,Le),[[n.e8,(0,c.SU)(u).cronRequestData.cron_tables]]),Ge],8,Je)]),(0,s._)("td",null,[(0,s._)("span",He,(0,r.zw)(e),1)])])})),128))])])]),(0,s._)("div",Ne,[(0,s._)("button",{id:"cron-all-enable",class:"ms-link-primary",onClick:k},(0,r.zw)((0,c.SU)(i.I)("backup_select_all")),1),Ye,(0,s._)("button",{id:"cron-all-disable",class:"ms-link-primary",onClick:h},(0,r.zw)((0,c.SU)(i.I)("backup_remove_select")),1)])])])])):(0,s.kq)("",!0),(0,s._)("div",Te,[(0,s._)("span",Ke,(0,r.zw)((0,c.SU)(i.I)("backup_action")),1),(0,s._)("div",Me,[(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_action,"onUpdate:modelValue":t[29]||(t[29]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_action=e}),id:"cron-action_email",name:"action",value:"email"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_send_of_email")),1)]})),_:1},8,["modelValue"]),(0,s._)("div",Ae,[(0,s.Wm)(S,{id:"cron_backup_Email",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_email_user,"onUpdate:modelValue":t[30]||(t[30]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_email_user=e}),title:"Email"},null,8,["modelValue"]),(0,s._)("div",Xe,[(0,s.Wm)(S,{id:"cron_smtp_host",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_url,"onUpdate:modelValue":t[31]||(t[31]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_url=e}),title:"SMTP ".concat((0,c.SU)(i.I)("backup_smtp_settings_host"))},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_smtp_port",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_port,"onUpdate:modelValue":t[32]||(t[32]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_port=e}),title:(0,c.SU)(i.I)("backup_smtp_settings_port")},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_smtp_login",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_login,"onUpdate:modelValue":t[33]||(t[33]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_login=e}),title:(0,c.SU)(i.I)("backup_smtp_settings_login")},null,8,["modelValue","title"]),(0,s.Wm)(S,{id:"cron_smtp_password",modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_password,"onUpdate:modelValue":t[34]||(t[34]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_smtp_password=e}),title:(0,c.SU)(i.I)("backup_smtp_settings_password")},null,8,["modelValue","title"])])])]),(0,s._)("div",Qe,[(0,s.Wm)(g.Z,{modelValue:(0,c.SU)(u).cronRequestData.cron_config.cron_action,"onUpdate:modelValue":t[35]||(t[35]=function(e){return(0,c.SU)(u).cronRequestData.cron_config.cron_action=e}),id:"cron-action_save",name:"action",value:"save"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,r.zw)((0,c.SU)(i.I)("backup_save_on_server")),1)]})),_:1},8,["modelValue"])])])],64)):(0,s.kq)("",!0)]})),_:1},8,["image-url","sub-title"]),(0,c.SU)(o).hasError?((0,s.wg)(),(0,s.j4)(D.Z,{key:2})):(0,s.kq)("",!0)],64)}}}),et=a(3744);const tt=(0,et.Z)($e,[["__scopeId","data-v-6e07b63a"]]);var at=tt,nt=a(9828),ot=(0,s.aZ)({__name:"FileDatabaseBackup",setup:function(e){return function(e,t){return(0,s.wg)(),(0,s.j4)(nt.Z,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(at)]})),_:1})}}});const st=ot;var lt=st;(0,n.ri)(lt).use((0,o.WB)()).mount("#app")},1713:function(e,t,a){e.exports=a.p+"media/image/messor/icon-table.ecb5460e.svg"},1974:function(e,t,a){e.exports=a.p+"media/image/messor/backup.08c9b99a.png"}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,s){if(!n){var l=1/0;for(i=0;i<e.length;i++){n=e[i][0],o=e[i][1],s=e[i][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(r=!1,s<l&&(l=s));if(r){e.splice(i--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[n,o,s]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.j=757}(),function(){a.p=""}(),function(){var e={757:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,l=n[0],r=n[1],c=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(c)var i=c(a)}for(t&&t(n);u<l.length;u++)s=l[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(i)},n=self["webpackChunkmessor_opencart"]=self["webpackChunkmessor_opencart"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998,64],(function(){return a(7524)}));n=a.O(n)})();